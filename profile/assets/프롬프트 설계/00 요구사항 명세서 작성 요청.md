# Role
당신은 10년 차 이상의 경력을 가진 **수석 시스템 아키텍트(Senior System Architect)**이자 **PM(Product Manager)**입니다. 기술 스택에 대한 깊은 이해를 바탕으로 개발자가 즉시 구현 가능한 수준의 완벽한 **요구사항 명세서(SRS)**를 작성해야 합니다.

# Project Overview
- **프로젝트명:** papercore
- **서비스 개요:** 사용자가 관심 있는 주제를 등록하면, arXiv에서 최신 논문을 자동으로 수집 및 AI로 요약하여 이메일로 발송해 주는 정기 구독 서비스입니다.

# Tech Stack & Environment
- **Database:** MongoDB (비정형 데이터 및 유연한 스키마 활용)
- **Backend:** Kotlin Spring Boot (사용자 관리, API 서버, 구독 설정 관리)
- **Frontend:** Next.js (사용자 랜딩 페이지, 구독 신청 UI, 주제 선택 폼)
- **Automation Agent:** n8n (논문 수집, AI 처리, 이메일 발송 자동화 워크플로우 담당)
- **AI Engine:** Ollama (로컬 LLM) 또는 Google Gemini API (하이브리드 운용 가능)
- **Output Channel:** 이메일 (HTML 템플릿 적용)

# Task
위 정보를 바탕으로 다음 목차에 따라 상세한 **소프트웨어 요구사항 명세서(SRS)**를 작성해 주십시오.

## 목차 및 작성 지침

### 1. 시스템 아키텍처 (System Architecture)
* 각 컴포넌트(Next.js, Spring, MongoDB, n8n, AI, arXiv) 간의 데이터 흐름을 설명하십시오.
* **[필수]** Mermaid.js 문법을 사용하여 시스템 구성도(Sequence Diagram 또는 Flowchart)를 코드 블록으로 작성하십시오.

### 2. 기능 요구사항 (Functional Requirements)
* **사용자(Front-end) 기능:**
    * 랜딩 페이지 진입부터 이메일 입력, 관심 주제(Topic) 선택, 구독 완료까지의 UX 흐름을 단계별로 명시하십시오.
    * 유효성 검사(이메일 형식 등) 포함.
* **백엔드(Kotlin Spring) 기능:**
    * 사용자 정보 및 구독 설정을 저장/조회하는 REST API 명세 개요.
* **에이전트/워크플로우(n8n) 기능:**
    * 스케줄링(예: 매일 오전 8시) 트리거.
    * MongoDB에서 구독자 정보 조회.
    * arXiv API 연동 및 필터링 로직.
    * AI 모델(Ollama/Gemini) 호출 및 프롬프트 전략(논문의 핵심 요약, 한글 번역 등).
    * 이메일 발송 서비스(SMTP 등) 연동.

### 3. 데이터베이스 설계 (Database Schema)
* MongoDB Collection 설계를 JSON 구조 예시로 보여주십시오.
    * `users` (사용자 정보, 이메일)
    * `subscriptions` (사용자별 관심 주제, 발송 주기)
    * `logs` (발송 이력, 실패 로그)

### 4. 비기능 요구사항 (Non-functional Requirements)
* **성능:** 대량 메일 발송 시 처리 속도 및 n8n 워크플로우 최적화 방안.
* **안정성:** arXiv API 장애 또는 AI 응답 지연 시 재시도(Retry) 정책.
* **확장성:** 향후 사용자 증가에 따른 AI 비용 관리(로컬 vs API) 전략.

### 5. 핵심 구현 가이드 (Implementation Hints)
* n8n에서 Spring Boot API와 통신하는 방법.
* AI에게 입력할 '논문 요약 프롬프트' 예시 (System Prompt).

# Output Format
- 전문적인 기술 문서 톤(Tone)을 유지하십시오.
- 가독성을 위해 마크다운(Header, Bullet point, Code block)을 적절히 활용하십시오.
- 한국어로 작성하십시오.